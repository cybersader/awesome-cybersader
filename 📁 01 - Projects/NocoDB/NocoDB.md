---
aliases: 
tags: 
publish: true
date created: Friday, October 4th 2024, 8:58 am
date modified: Friday, October 4th 2024, 9:18 am
---

[Data Entry Tools](../../üìÅ%2003%20-%20Curations,%20Stacks/‚¨á%20Tech%20Dropzone/Data%20Entry%20Tools/Data%20Entry%20Tools.md)
[Podman Setup & Container Usage](../Podman%20Setup%20&%20Container%20Usage/Podman%20Setup%20&%20Container%20Usage.md)

# Links

- [Installation | NocoDB](https://docs.nocodb.com/category/installation)

# Setup 

* * *

**You:**

I'm still confused...really in general when it comes to using containers and podman.  I thought that using container like NocoDB made it easy and that the settings are at a default, but I can't tell if I need to have something like a docker compose file (don't understand really what those do and where the schema for them comes from / if it's custom to each app).  It's not auto-finding the volumes for me and just says "path on the host" for the Volumes.  Also, "path inside the container."  I'm not sure how to approach using container with podman as of right now.  My goal was to be able to quickly test containers in podman, then move forward with using them on a dedicated linux server if I choose to do so.  However, I'm having trouble understanding how to approach this, if I need to be using complex template files like docker compose (emphasis on the part where code/templates/IaC doesn't have the options in front of you like a GUI does).  I've ran into these issues before such as when I was trying to set up a discourse server which required mongodb.  I want this process to be simple and intuitively understandable.

I will say that if it requires another database, then I'll be setting up a Postgres database on another container in podman, and/or redis, and/or minio, and/or traefik.

* * *

**ChatGPT:**

**Understanding Volumes and Setting Up NocoDB with Podman GUI**

I understand that getting started with containers and Podman can be a bit overwhelming, especially when dealing with volumes, environment variables, and potentially complex configurations like Docker Compose files. Let's break down the process step by step to make it more intuitive and straightforward.

* * *

### **1. Understanding Containers, Volumes, and Compose Files**

- **Containers**: Lightweight, standalone executable packages that include everything needed to run a piece of software, including the code, runtime, system tools, libraries, and settings.
    
- **Volumes**: Mechanisms to persist data generated by and used by containers. They allow you to store data outside of the container's writable layer, ensuring data isn't lost when containers are updated or removed.
    
- **Docker Compose Files**: YAML files (`docker-compose.yml`) used to define and run multi-container Docker applications. They allow you to configure your application's services, networks, and volumes in a single file.
    

* * *

### **2. Using Podman GUI to Manage Volumes**

While Docker uses Docker Compose, Podman can use a similar tool called `podman-compose`, but for simplicity, we'll focus on using the Podman GUI.

**a. Creating Volumes in Podman GUI**

1. **Open Podman Desktop**:
    
    - Navigate to the **"Volumes"** section in the sidebar.
2. **Create a New Volume**:
    
    - Click on **"Create Volume"**.
    - Name your volume (e.g., `nocodb-data`).
    - Optionally, specify the host path where you want the volume data to be stored. If you leave it blank, Podman will manage the location.

* * *

### **3. Setting Up NocoDB with Podman GUI**

**a. Pull the NocoDB Image**

1. **Search for the NocoDB Image**:
    - In the Podman GUI, go to the **"Images"** section.
    - Search for `nocodb/nocodb:latest` and pull the image.

**b. Run the NocoDB Container**

1. **Create a New Container**:
    
    - Go to the **"Containers"** section.
    - Click on **"Create Container"**.
2. **Configure the Container Settings**:
    
    - **General Settings**:
        
        - **Name**: Give your container a name (e.g., `nocodb`).
        - **Image**: Select `nocodb/nocodb:latest`.
    - **Ports**:
        
        - Click on **"Add Port Mapping"**.
        - **Host Port**: `8080` (or any available port on your host).
        - **Container Port**: `8080` (NocoDB's default port).
    - **Volumes**:
        
        - Click on **"Add Volume"**.
        - **Path on Host**:
            - If you created a volume named `nocodb-data`, select it here.
            - Alternatively, specify a host path (e.g., `/home/youruser/nocodb-data`).
        - **Path in Container**: `/usr/app/data/` (this is where NocoDB stores its data).
    - **Environment Variables**:
        
        - Click on **"Add Environment Variable"**.
        - For a basic setup, you might not need to set any environment variables.
        - **Optional**: If you wish to set a custom JWT secret or connect to an external database, you can add variables like `NC_AUTH_JWT_SECRET` or `NC_DB`.
    - **Command & Entrypoint**:
        
        - Leave these as default unless you have specific commands to run.

**c. Start the Container**

- After configuring the settings, click on **"Create and Run"**.
- The container should start, and you can monitor its status in the **"Containers"** section.

**d. Access NocoDB**

- Open a web browser and navigate to `http://localhost:8080` (or the host port you specified).
- NocoDB should be up and running, using the volume you configured for data persistence.

* * *

### **4. Understanding "Path on the Host" and "Path in Container"**

- **Path on Host**:
    
    - This is a directory on your local machine where the container's data will be stored.
    - It can be a named volume managed by Podman or a specific directory path.
- **Path in Container**:
    
    - This is the directory inside the container where the application expects to read or write data.
    - For NocoDB, this is `/usr/app/data/`.

**Example**:

- Mapping `/home/youruser/nocodb-data` (host) to `/usr/app/data/` (container) means any data NocoDB writes to `/usr/app/data/` will be stored on your host machine in `/home/youruser/nocodb-data`.

* * *

### **5. Do You Need Docker Compose Files?**

- **Not Necessarily**:
    
    - For simple setups, especially when using the Podman GUI, you don't need Docker Compose files.
    - Compose files are beneficial for defining and running multi-container applications with complex configurations.
- **When to Use Compose Files**:
    
    - If you're dealing with multiple containers that need to interact (e.g., NocoDB and a separate Postgres database), Compose files simplify the orchestration.
    - They allow you to define networks, volumes, and dependencies in one file.
- **Podman and Compose Files**:
    
    - Podman can use Compose files via `podman-compose`, but compatibility might not be 100%.
    - Since you're aiming for simplicity, configuring containers individually via the GUI is a good approach.

* * *

### **6. Connecting NocoDB to an External Database (e.g., Postgres)**

If you decide to use Postgres or another database with NocoDB, here's how you can set it up.

**a. Set Up the Database Container**

1. **Pull the Database Image**:
    
    - For Postgres, search for `postgres:latest` and pull the image.
2. **Create a New Database Container**:
    
    - **Name**: e.g., `postgres-db`.
    - **Environment Variables**:
        - `POSTGRES_USER`: Your desired username (e.g., `root`).
        - `POSTGRES_PASSWORD`: Your desired password.
        - `POSTGRES_DB`: The database name (e.g., `d1`).
    - **Ports**:
        - **Host Port**: `5432` (or any available port).
        - **Container Port**: `5432`.
    - **Volumes**:
        - Optional: Map a volume to `/var/lib/postgresql/data` for data persistence.
3. **Start the Database Container**.
    

**b. Configure NocoDB to Use the External Database**

1. **Edit NocoDB Container Settings**:
    
    - Stop the NocoDB container if it's running.
    - Go to the container's settings in the Podman GUI.
2. **Set the `NC_DB` Environment Variable**:
    
    - **Key**: `NC_DB`.
    - **Value**: `pg://host.docker.internal:5432?u=root&p=password&d=d1`.
        - Replace `host.docker.internal` with the hostname or IP where Postgres is accessible.
        - If both containers are on the same network, you might use the container name or IP.
3. **Networking**:
    
    - Ensure that NocoDB and the Postgres container are on the same network.
    - In Podman, you might need to create a user-defined network and attach both containers to it.
4. **Restart NocoDB Container**.
    

**c. Verify the Connection**

- Access NocoDB via your browser.
- It should now be using the external Postgres database for storage.

* * *

### **7. Simplifying the Process**

- **Use Defaults When Possible**:
    
    - For initial testing, use NocoDB's default SQLite database, which doesn't require additional configuration.
    - This allows you to get familiar with the application before adding complexity.
- **Leverage the GUI**:
    
    - The Podman GUI is designed to simplify container management.
    - Visual interfaces can make it easier to understand configurations compared to writing YAML files.
- **Incremental Complexity**:
    
    - Start with a single container and add components (like external databases) one at a time.
    - This approach helps isolate issues and makes troubleshooting easier.

* * *

### **8. Understanding Environment Variables and Configuration**

- **Environment Variables**:
    
    - Used to pass configuration options to containers.
    - For NocoDB, important variables include:
        - `NC_DB`: Specifies the database connection string.
        - `NC_AUTH_JWT_SECRET`: Sets the secret for JWT authentication.
- **Default Behavior**:
    
    - If certain variables aren't set, NocoDB will use default values.
    - For example, without `NC_DB`, NocoDB uses a local SQLite database.

* * *

### **9. Additional Tips**

- **Persistent Data**:
    
    - Always mount volumes for data persistence, especially in production setups.
    - Without volumes, data stored inside the container will be lost if the container is removed.
- **Networking**:
    
    - Containers need to be on the same network to communicate.
    - Podman automatically creates a default network, but for complex setups, you might need to manage networks manually.
- **Learning Resources**:
    
    - **Podman Documentation**: Podman User Guide
    - **NocoDB Documentation**: NocoDB Docs

* * *

### **10. Summary**

- **Volumes**: Use the Podman GUI to create and manage volumes. Map host paths to container paths to persist data.
- **Environment Variables**: Set necessary variables in the container settings to configure the application.
- **Compose Files**: Not required for simple setups; the Podman GUI can handle most configurations.
- **External Databases**: Can be added by running additional containers and configuring networking and environment variables.
- **Approach**: Start simple, using defaults, and gradually add complexity as you become more comfortable.

* * *

**I hope this clarifies how to use the Podman GUI to set up NocoDB and manage volumes. If you have any further questions or need assistance with specific steps, feel free to ask, and I'll be happy to help!**